{% extends "base/base.html" %}

{% block content %}

<section class="page-content">
  <h1 class="page-title">{{ page.title }}</h1>
  {% if page.content %}
    {{ page.content | safe }}
  {% endif %}

  {% set roll = load_data(path="static/api/blogroll.json") %}
  {% set roll = roll.blogs | sort(attribute="name") %}

  <div class="blogroll">
    {% for blog in roll %}
      <div class="blog">
        <h2>{{ blog.name }}</h2>
        {% if blog.tags %}
        <ul class="blog__tags">
          {% for tag in blog.tags %}
            <li>{{ tag }}</li>
          {% endfor %}
        </ul>
        {% else %}
          {{ throw(message="You need to provide tags for the blog") }}
        {% endif %}
        <p>{{ blog.description }}</p>
        <ul class="blog__urls">
          <li><a href="{{ blog.url }}" target="_blank">Website</a></li>
          <li><a href="{{ blog.rss }}" target="_blank">RSS</a></li>
        </ul>
      </div>
    {% endfor %}
  </div>
</section>

{% endblock content %}
