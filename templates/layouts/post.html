{% extends "base/base.html" %}

{% block head %}
  {% set title = page.title ~ " - " ~ config.title %}
  {% set description = page.description | default(value=config.description) %}
{% endblock head %}

{% block content %}
<article
  class="post h-entry"
  itemscope
  itemtype="http://schema.org/BlogPosting"
>
  <div class="post-header">
    <div class="header__wrapper">
      <time
        class="dt-published"
        datetime="{{ page.date }}"
        itemprop="datePublished"
      >
        {{ page.date | date(format=config.extra.date_format) }}
      </time>
      {% if page.updated %}
        <time
          class="dt-updated"
          datetime="{{ page.updated }}"
          itemprop="dateUpdated"
        >
          - updated {{ page.updated | date(format=config.extra.date_format__updated) }}
        </time>
      {% endif %}
      <h1 class="post-title p-name" itemprop="name headline">
        {{ page.title | safe }}
      </h1>
    </div>
    <span class="post-meta">
      {%- if config.extra.author -%}
      <span class="hidden author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-author h-card" itemprop="name">
          <img class="u-photo hidden" src="{{ get_url(path="img/me.jpeg") }}" alt="Photo of Tim HÃ¥rek Andreassen">
          {{ config.extra.author }}
        </span>
      </span
      >
      {%- endif -%}
      {% if page.taxonomies.tags %}
        <ul class="post__tags">
          {% set tags = page.taxonomies.tags | sort %}
          {% for tag in tags %}
            <li class="tags__tag">
              <a class="p-category" href="{{ get_taxonomy_url(kind="tags", name=tag) }}">#{{ tag|lower }}</a>
            </li>
        {% endfor %}
        </ul>
      {% endif %}
    </span>
  </div>

  <div class="post-content e-content" itemprop="articleBody">
    {{ page.content | safe }}
  </div>

  <a class="u-url" href="{{ page.permalink | safe }}" hidden></a>
</article>

{% endblock content %}
